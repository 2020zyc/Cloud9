<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><title>Cloud9: A MapReduce Library for Hadoop</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../style.css" type="text/css" />
</head>

<body>

<center><table width="80%"><tbody><tr><td align="left">

<h2>Cloud<sup><small>9</small></sup>: Exercises: Bigram counts</h2>

<p>by Jimmy Lin</p>

<p>
<small>(Page first created: 13 Aug 2008; last updated:
<script language="JavaScript" type="text/javascript">
<!--
var LastUpdated = "$Date$";
LastUpdated = LastUpdated.substring(LastUpdated.length-14, LastUpdated.length-3);
document.writeln (LastUpdated+")");
-->
</script>
</small>
</p>

<div class="main">

<p>This exercise is a simple extension of the word count demo: in the
first part of the exercise, you'll be counting bigrams, and in the
second part of the exercise, you'll be computing bigram conditional
probabilities.  For both parts, feel free to use Hadoop data types in
Cloud<sup><small>9</small></sup> if you think it's helpful.  You'll
want to look in the edu.umd.cloud9.io package.</p>

<h3>Part I: Count the bigrams</h3>

<p>Take the word count example
<code>edu.umd.cloud9.demo.DemoWordCount</code> and extend it to count
bigrams.  <a href="http://en.wikipedia.org/wiki/Bigram">Bigrams</a>
are simply sequences of two consecutive words.  For example, the
previous sentence contains the following bigrams: "Bigrams are", "are
simply", "simply sequences", "sequence of", etc.  Work with the sample
collection included in Cloud<sup><small>9</small></sup>, <a
href="../../data/bible+shakes.nopunc.gz">the Bible and the complete
works of Shakespeare</a>.  Don't worry about doing anything fancy in
terms of tokenization; it's fine to continue using Java's
StringTokenizer.</p>

<p>Questions to answer:</p>

<ol>

  <li>How many unique bigrams are there?</li>

  <li>List the top ten most frequent bigrams and their counts.</li>

  <li>What fraction of all bigrams occurrences does the top ten
  bigrams account for?  That is, what is the cumulative frequency of
  the top ten bigrams?</li>

  <li>How many bigrams appear only once?</li>

</ol>

<h3>Part II: From bigram counts to bigram probabilities</h3>

<p>Extend your program to compute bigram probabilities, i.e., the
conditional probability of observing a word given the preceding word.
The output of the code should be a table of values for
P(W<sub><small>n</small></sub>|W<sub><small>n-1</small></sub>).  Hint:
to compute P(B|A), count up the number of occurrences of the bigram "A
B", and then divide by the number of occurrences of all the bigrams
that start with "A".</p>

<p>Questions to answer:</p>

<ol>

  <li>What are the five most frequent words following the word
  "light"?  What is the probability of observing each word?</li>

  <li>Same question, except for the word "contain".</li>

  <li>If there are a total of <i>N</i> words in your vocabulary, then
  there are a total of <i>N<sup><small>2</small></sup></i> possible
  values for
  P(W<sub><small>n</small></sub>|W<sub><small>n-1</small></sub>)&mdash;in
  theory, every word can follow every other word (including itself).
  What fraction of these values are non-zero?  In other words, what
  proportion of all possible events are actually observed?  To give a
  concrete example, let's say that following the word "happy", you
  only observe 100 different words in the text collection.  This means
  that <i>N</i>-100 words are never seen after "happy" (perhaps the
  distribution of happiness is quite limited?).</li>

</ol>

<h3>Practical Tips</h3>

<p>The easiest way to get started is to write a new class directly
inside the Cloud<sup><small>9</small></sup> project in Eclipse.  Once
you have some code you want to run, pull up a shell and change
directory to <code>umd-hadoop-core/build/</code> (this is where
Eclipse automatically puts compiled class files).  Then create a jar
with the following command:</p>

<pre>
jar cvf cloud9.jar *
</pre>

<p>You can then run the job in standalone mode, on the Google/IBM
cluster, on EC2, etc.</p>


<p style="padding-top: 25px"><a href="../index.html">Back to main page</a></p>

</div>

<table width="100%" border="0" cellpadding="0" cellspacing="0" style="padding-top: 10px;">
<tr><td valign="top" align="left">
</td>
<td valign="top" align="right">
  <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/us/">
  <img src="../images/creative-commons.png" border="0" alt="Creative Commons: Attribution-Noncommercial-Share Alike 3.0 United States"/>
  </a>
  <a href="http://validator.w3.org/check/referer">
  <img src="../images/valid-xhtml10.gif" border="0"
       alt="Valid XHTML 1.0!" height="31" width="88" />
  </a>
  <a href="http://jigsaw.w3.org/css-validator/check/referer">
  <img style="border:0;width:88px;height:31px"
       src="../images/vcss.gif" 
       alt="Valid CSS!" />
  </a>
</td></tr></table>

</td></tr></tbody></table></center>

</body></html>
